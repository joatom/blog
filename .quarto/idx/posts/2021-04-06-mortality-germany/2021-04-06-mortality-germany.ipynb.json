{"title":"Deaths by age group and states in Germany from 2016 to 2021","markdown":{"yaml":{"title":"Deaths by age group and states in Germany from 2016 to 2021","description":"Interactive analysis of death rates before and during Covid19.","date":"2021-04-06","toc":true,"badges":true,"comments":{"utterances":{"repo":"joatom/blog"}},"author":"Johannes Tomasoni","from":"markdown+emoji","image":"mortality_germany.png","categories":["EDA","Society"],"keep-ipynb":true,"format":{"html":{"page-layout":"full"}}},"headingText":"Source of data","containsRefs":false,"markdown":"\n\n[:de:](2021-04-06-mortality-germany_de.html) [:us:](2021-04-06-mortality-germany.html) [[kaggle version](https://www.kaggle.com/joatom/deaths-by-age-and-states-in-germany-2016-2021)]\n\n:::{.callout-warning}\n(Updated on 2021/11/22) First of all here are some clarifying personal notes: **I'm vaccinated!** The guidelines of  of the [STIKO](https://www.rki.de/DE/Content/Infekt/EpidBull/Archiv/2021/Ausgaben/38_21.pdf?__blob=publicationFile) (official German board for vaccination recommendation) have always been plausible. Therefore my eldest daughter got vaccinated, too. And our younger children will also get their vaccination as soon as a recommendation exists. So, if you look at the numbers below, keep in mind, those were the numbers from **Spring 2021**, before Delta hit Germany and during a time where kids had more restrictions than adults.\n:::\n\nIn this blog post, I want to find out how easy it is to create interactive charts in notebooks. As a framework, I will use [Altair](https://altair-viz.github.io/), as it can be easily integrated into my blog [[FP20](https://fastpages.fast.ai/jupyter/2020/02/20/test.html)].\n\nIn order to make the contribution interesting, I evaluate the death rates from Germany over the last five years. I construct two periods - the first period before and the second one during Covid19.\n\nWe will analyze these questions: \n\n- How do deaths per age group and month change?\n- How do deaths per state change?\n\nThe first part describes the origin and processing of the data. Then, charts are built around the above questions.\nFinally, a technical conclusion to the framework follows.\n\n:::{.callout-important}\nThe death rates are not an indicator of the danger of Covid19. They only reflect the number of people who died retrospectively.\n:::\n\nFor the analysis of deaths in Germany, the current death data from the *Statistisches Bundesamt* (Federal Statistical Office) [SB21] are used. The data include the number of deaths by age group or state on a monthly basis. In this blog post, the monthly death figures for the period March 2016 to February 2021 are examined. The most recent data are currently only available until February 2021 and include some estimations, which are explained in the data source in the tab \"Hinweise\".\nIn addition to the death figures, data on the population density of the states are processed [SB20]. These figures refere to the reference date 31.12.2019.\n\n# Procession of the data \n## Preprocessing\nThe evaluation period is limited to March 2016 until February 2021. The period in which Corona was heavily active in Germany is simplified here to March 2020 (when Covid19 triggered the first major social changes in Germany) until February 2021 (orange). The pre-Covid19 period is set to March 2016 until February 2020 (blue). Thus, the Covid19 period covers exactly one year and the pre-Covid19 period exactly four years. Thus, both periods remain comparable without serious seasonal deviations. The split of the periods is illustrated in the diagram below.\n\n## Aggregation of data\nIn the calculations, the values are averaged over a period of time. Depending on the evaluation, this happens over the whole period or per month. The first and third quartile of the aggregated data may also be shown as shading in the diagrams.\nIn some charts, the calculated points are interpolated to increase readability.\n\n:::{.callout-tip}\nFor some of the charts there are control elements in the upper right corner, such as drop-down boxes. The mouse wheel can be used to zoom and a chart can be reset by double-clicking.\n:::\n\n# Deaths by age\nThe diagram below shows the average number of *deaths per month* per *age group*. One age group covers five years. The point *age 55* includes, for example, all deaths between 50 and 55. Deaths of those over 100 years of age are shown in point *100*.\n\nThe values are aggregated over the pre-Covid19 period (blue) and the Covid19 period (orange). In the diagram, the *months* can be selected via drop-down box.\n\nBelow are the average deaths by age for each month. The list starts with the month of March.\n\n## Observation\nIn the age groups under 55, there was no excess mortality during these periods. In the age groups from 80 years and older, mortality increased massively.\n\n# Deaths by state\nIn the next diagram, the age groups *0-65* and *65+* can be evaluated for the two periods grouped by *state*. By drop-down box, you can choose between the key figures *Deaths* or *Deaths per 100,000 inhabitants*.\n\n## Observation\nNorth Rhine-Westphalia (NW) has the largest number of deaths, since it is the state with highest population. In each state, there are increases in death rates in the Covid19 period. However, only minimal increases in Hesse (HE) and Bavaria (BY) can be seen for the age groups under the age of 65. In the other states, there is no noticeable increase in this age group.\n\nThere are smaller variations looking at the number of deaths per 100.000 inhabitants in the age group below 65. The increase in deaths in North Rhine-Westphalia (NW) is slightly lower than in Bavaria (BY) and roughly as high as in Baden-Württemberg (BW). Saxony (SN) and Brandenburg (BB) have the strongest increases.\n\n:::{.callout-note}\nOnly *deaths* are evaluated. No other aspects (such as demographic aspects) are taken into account.\n:::\n\n# Deaths by state and population density\nThe last diagram refers to the *population density* of the *states* and the amount of *deaths per 100,000 inhabitants*.\n\n\n\n\n## Observation\n\nThe city-states Hamburg (HH) and Bremen (HB) show a moderate increase in deaths despite their high population density. Berlin (BE) instead has a high increase in death rate. Schleswig-Holstein (SH) recorded the lowest increase.\n\nThe correlation coefficient of *population density* and *increase in mortality* is:\n\nHence, There is no correlation for this comparison. \n\n:::{.callout-note}\nOnly deaths are evaluated. No other aspects (such as demographic aspects) are taken into account.\n:::\n\n# Technical conclusion\nWith Altair you can easily setup interactive charts and integrate them into notebooks. Their website contains a variety of examples [AA1]. Some questions are also answered in their Github Issue tracker [AA2].\n\nI spent some time debugging JavaScript when I used the bindings incorrectly. However, there was finally a solution to every problem [AA2] or workarounds such as for the legend in the bar diagram [AG18]. As expected, a bit of practice is neccessary to get used to a new framework.\n\nThe integration [FP20] in this blog works perfectly. I will certainly use the framework elsewhere.\n\n# References\n## Data sources\nThe data used here are from the \"Statistisches Bundesamt\" (Federal Statistical Office) and are subject to the license \"dl-de/by-2-0\". The license text can be found at www.govdata.de/dl-de/by-2-0. The data were modified exclusively within this notebook by executing the specified program code for the purpose of analysis.\n\n- [SB21] Statistisches Bundesamt (Destatis), 2021 (published 2012/03/30), *Sterbefälle - Fallzahlen nach Tagen, Wochen, Monaten, Altersgruppen, Geschlecht und Bundesländern für Deutschland 2016 - 2021*, visited 2021/04/03, <https://www.destatis.de/DE/Themen/Gesellschaft-Umwelt/Bevoelkerung/Sterbefaelle-Lebenserwartung/Tabellen/sonderauswertung-sterbefaelle.xlsx?__blob=publicationFile>\n- [SB20] Statistisches Bundesamt (Destatis), 2020 (published 2020/09/02), *Bundesländer mit Hauptstädten nach Fläche, Bevölkerung und Bevölkerungsdichte am 31.12.2019*, visited 2021/04/03, <https://www.destatis.de/DE/Themen/Laender-Regionen/Regionales/Gemeindeverzeichnis/Administrativ/02-bundeslaender.xlsx?__blob=publicationFile>\n\n## Other references\nA lot of the coding is derived from various examples of the Altair homepage and from great examples in the coresponding Github Issue tracker answered by https://github.com/jakevdp.\n\n- [AA1] https://altair-viz.github.io/gallery/index.html\n- [AA2] https://github.com/altair-viz/altair/issues/\n- [AG18] A. Gordon, 2018 (published 2018/10/06), *Focus: generating an interactive legend in Altair*, visited 2021/04/05, <https://medium.com/dataexplorations/focus-generating-an-interactive-legend-in-altair-9a92b5714c55>\n- [FP20] fastpages.fast.ai, 2020 (published 2020/02/20), *Fastpages Notebook Blog Post*, visited 2021/04/05, <https://fastpages.fast.ai/jupyter/2020/02/20/test.html> \n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":true,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"from":"markdown+emoji","output-file":"2021-04-06-mortality-germany.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.256","theme":{"light":"flatly","dark":"darkly"},"title-block-banner":true,"title":"Deaths by age group and states in Germany from 2016 to 2021","description":"Interactive analysis of death rates before and during Covid19.","date":"2021-04-06","badges":true,"comments":{"utterances":{"repo":"joatom/blog"}},"author":"Johannes Tomasoni","image":"mortality_germany.png","categories":["EDA","Society"],"page-layout":"full"},"extensions":{"book":{"multiFile":true}}}}}